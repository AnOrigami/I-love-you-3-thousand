<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>何为数据代理</title>
    </head>

    <!-- 
    这段代码定义了一个名为 obj2 的对象，该对象拥有一个名为 x 的属性。这个 x 属性实际上并不存在于 obj2 对象本身中，而是通过使用 Object.defineProperty() 方法来定义的。
    在这里，我们使用 Object.defineProperty() 方法为 obj2 对象的 x 属性定义了 getter 和 setter 函数。getter 函数在读取 obj2.x 属性时被调用，并返回 obj1.x 属性值；setter 函数在设置 obj2.x 属性的值时被调用，并将新值赋值给 obj1.x。
    也就是说，当你在访问或修改 obj2.x 属性时，实际上是访问或修改了 obj1.x 属性。
    这种技术被称为“代理”，它可以让你在不改变原始对象的前提下，通过另一个对象来访问和修改原始对象的某些属性，从而实现一些高级的操作，比如依赖追踪、数据绑定等。在 Vue 框架中，就采用了类似的代理机制来实现响应式系统。 
    -->

    <body>
        <script>
            // 数据代理：通过一个对象代理另一个对象中属性的操作（读/写）
            let obj1 = {
                x: 100
            };

            let obj2 = {
                y: 200
            };

            // 用 obj2 代理 obj1 中属性的操作，也是就可以通过 obj2 操作 obj1 中的属性！
            Object.defineProperty(obj2, 'x', {
                get() {
                    return obj1.x;
                },
                set(value) {
                    obj1.x = value;
                }
            });
        </script>
    </body>
</html>
